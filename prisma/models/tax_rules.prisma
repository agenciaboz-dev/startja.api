model Natureza {

    id                          Int                 @id @default(autoincrement())
    operation                   String
    type                        Int
    finality                    String
    motive                      String
    emissionFinality            Int

    rules                       regraTributacao[]

}

model regraTributacao {
    id                              Int                     @id @default(autoincrement())
    
    aliquota                        Int
    cfop                            Int
    icms_modalidade_base_calculo    Int
    cofins_situacao_tributaria      String
    icms_situacao_tributaria        String
    pis_situacao_tributaria         String

    origem                          String
    destino                         String

    product_id                      Int
    product                         Product             @relation(fields: [product_id], references: [id], onDelete: Cascade)
    
    naturezas                       Natureza[]
}

model Product {
    id              Int         @id @default(autoincrement())
    tax_rules       regraTributacao[]
}