model Product {

    id                          Int                    @id @default(autoincrement())
    name                        String              
    ncm                         String  
    codigo_externo              String                  @default("")     
    icmsOrigin                  Int                     @default(0)

    produtosNota                ProdutoNotaFiscal[]

}


model ProdutoNotaFiscal {
    id         Int         @id @default(autoincrement())
    unidade                     String
    unitaryValue                Float
    productQnty                 Int

    tax_rules                   regraTributacao @relation(fields: [tax_rules_id], references: [id])
    tax_rules_id                Int

    nota                        notaFiscal @relation(fields: [notaId], references: [id])
    notaId                      Int

    produtoId                   Int
    produto                     Product @relation(fields: [produtoId], references: [id])
}

model notaFiscal {
    id         Int         @id @default(autoincrement())
    products                    ProdutoNotaFiscal[]     
}

model regraTributacao {
    id         Int         @id @default(autoincrement())
    invoice_products    ProdutoNotaFiscal[]
}